{"version":3,"sources":["repository.js","constants.js","utils.js","styleComponents.js","Account.js","App.js","authorization.js","serviceWorker.js","index.js"],"names":["getAccounts","_ref2","Object","asyncToGenerator","regenerator_default","a","mark","_callee2","_ref","accessToken","apiServer","getResource","accountsResp","accounts","positions","balances","wrap","_context2","prev","next","resource","axios","get","concat","headers","Authorization","Access-Control-Allow-Origin","sent","data","Promise","all","map","_ref3","_callee","account","_ref4","_ref5","positionsResp","balancesResp","_context","number","slicedToArray","find","combinedBalances","currency","sortBy","position","currentMarketValue","stop","_x2","apply","this","arguments","abrupt","totalEquity","_x","BREAKDOWNS","VEQT.TO","stocks","bonds","VBAL.TO","VGRO.TO","formatMoney","num","toFixed","replace","formatPercent","Subheading","styled","div","_templateObject","Flex","_templateObject2","Heading","h2","Account_templateObject","Account","balance","sumBy","symbol","cash","total","react_default","createElement","key","type","window","location","hash","localStorage","getItem","search","substring","hashObject","JSON","parse","value","decodeURIComponent","setItem","access_token","api_server","getAuthorizationToken","Container","App_templateObject","h1","App_templateObject2","App","_useState","useState","_useState2","setAccounts","_useState3","_useState4","setBalances","_useState5","_useState6","setPositions","useEffect","fetchData","isLoaded","overallStocks","flatMap","values","overallBonds","overallCash","overallTotal","react","App_Heading","style","justifyContent","borderTop","marginTop","paddingTop","src_Account","href","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f8c01b5f.chunk.js","sourcesContent":["import axios from \"axios\";\nimport find from \"lodash/find\";\nimport sortBy from \"lodash/sortBy\";\n\nexport const getAccounts = async ({ accessToken, apiServer }) => {\n  const getResource = resource =>\n    axios.get(\n      `https://cors-anywhere.herokuapp.com/${apiServer}v1/${resource}`,\n      {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      }\n    );\n\n  const accountsResp = await getResource(\"accounts\");\n  const accounts = accountsResp.data.accounts;\n\n  const positions = {};\n  const balances = {};\n\n  await Promise.all(\n    accounts.map(async account => {\n      const [positionsResp, balancesResp] = await Promise.all([\n        getResource(`accounts/${account.number}/positions`),\n        getResource(`accounts/${account.number}/balances`)\n      ]);\n\n      balances[account.number] = find(balancesResp.data.combinedBalances, {\n        currency: \"CAD\"\n      });\n      positions[account.number] = sortBy(\n        positionsResp.data.positions,\n        position => -position.currentMarketValue\n      );\n    })\n  );\n\n  return {\n    accounts: sortBy(\n      accounts,\n      account => -balances[account.number].totalEquity\n    ),\n    balances,\n    positions\n  };\n};\n","export const BREAKDOWNS = {\n  \"VEQT.TO\": {\n    stocks: 1,\n    bonds: 0\n  },\n  \"VBAL.TO\": {\n    stocks: 0.6,\n    bonds: 0.4\n  },\n  \"VGRO.TO\": {\n    stocks: 0.8,\n    bonds: 0.2\n  }\n};\n","export const formatMoney = num =>\n  \"$\" + num.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\nexport const formatPercent = num => (num * 100).toFixed(1) + \"%\";\n","import styled from \"styled-components\";\n\nexport const Subheading = styled.div`\n  font-weight: bold;\n  font-size: 12px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  border-bottom: 1px solid #ddd;\n  margin-bottom: 5px;\n  margin-top: 10px;\n`;\n\nexport const Flex = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport sumBy from \"lodash/sumBy\";\nimport { BREAKDOWNS } from \"./constants\";\nimport { formatMoney, formatPercent } from \"./utils\";\nimport { Flex, Subheading } from \"./styleComponents\";\n\nconst Heading = styled.h2`\n  margin-top: 30px;\n  margin-bottom: 10px;\n`;\n\nconst Account = ({ account, balance, positions }) => {\n  const stocks = sumBy(\n    positions,\n    position => position.currentMarketValue * BREAKDOWNS[position.symbol].stocks\n  );\n  const bonds = sumBy(\n    positions,\n    position => position.currentMarketValue * BREAKDOWNS[position.symbol].bonds\n  );\n  const cash = balance.cash;\n  const total = stocks + bonds + cash;\n\n  return (\n    <div key={account.number}>\n      <Heading>{account.type}</Heading>\n      <Subheading>Positions</Subheading>\n      {positions.map(position => (\n        <Flex key={position.symbol}>\n          <span>{position.symbol}</span>\n          <span>{formatMoney(position.currentMarketValue)}</span>\n        </Flex>\n      ))}\n      <Flex>\n        <span>Cash</span>\n        <span>{formatMoney(cash)}</span>\n      </Flex>\n      <Subheading>Asset Classes</Subheading>\n      <Flex>\n        <span>Stocks</span>\n        <span>{formatPercent(stocks / total)}</span>\n      </Flex>\n      <Flex>\n        <span>Bonds</span>\n        <span>{formatPercent(bonds / total)}</span>\n      </Flex>\n      <Flex>\n        <span>Cash</span>\n        <span>{formatPercent(cash / total)}</span>\n      </Flex>\n    </div>\n  );\n};\n\nexport default Account;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport flatMap from \"lodash/flatMap\";\nimport sumBy from \"lodash/sumBy\";\nimport { getAuthorizationToken } from \"./authorization\";\nimport { getAccounts } from \"./repository\";\nimport { BREAKDOWNS } from \"./constants\";\nimport Account from \"./Account\";\nimport { Flex, Subheading } from \"./styleComponents\";\nimport { formatMoney, formatPercent } from \"./utils\";\n\nconst CLIENT_ID = \"YCUSnajluQMAHR32DnJhupUYJddjZQ\";\nconst REDIRECT_URI = \"https://tomcheng.github.io/allocation-reports\";\n\nconst { accessToken, apiServer } = getAuthorizationToken() || {};\n\nconst Container = styled.div`\n  padding: 20px 30px;\n`;\n\nconst Heading = styled.h1`\n  margin-top: 0;\n`;\n\nconst App = () => {\n  const [accounts, setAccounts] = useState(null);\n  const [balances, setBalances] = useState({});\n  const [positions, setPositions] = useState({});\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const { accounts, balances, positions } = await getAccounts({\n        accessToken,\n        apiServer\n      });\n\n      setPositions(positions);\n      setBalances(balances);\n      setAccounts(accounts);\n    };\n\n    fetchData();\n  }, []);\n\n  const isLoaded = !!accounts;\n\n  const overallStocks = sumBy(\n    flatMap(Object.values(positions)),\n    position => position.currentMarketValue * BREAKDOWNS[position.symbol].stocks\n  );\n  const overallBonds = sumBy(\n    flatMap(Object.values(positions)),\n    position => position.currentMarketValue * BREAKDOWNS[position.symbol].bonds\n  );\n  const overallCash = sumBy(Object.values(balances), \"cash\");\n  const overallTotal = overallStocks + overallBonds + overallCash;\n\n  return (\n    <Container>\n      {isLoaded ? (\n        <Fragment>\n          <Heading>Overall</Heading>\n          <Subheading>Accounts</Subheading>\n          {accounts.map(account => (\n            <Flex key={account.number}>\n              <span>{account.type}</span>\n              <span>{formatMoney(balances[account.number].totalEquity)}</span>\n            </Flex>\n          ))}\n          <Flex style={{ justifyContent: \"flex-end\" }}>\n            <span\n              style={{\n                borderTop: \"1px solid #666\",\n                marginTop: 2,\n                paddingTop: 2\n              }}\n            >\n              {formatMoney(overallTotal)}\n            </span>\n          </Flex>\n          <Subheading>Asset Classes</Subheading>\n          <Flex>\n            <span>Stocks</span>\n            <span>{formatPercent(overallStocks / overallTotal)}</span>\n          </Flex>\n          <Flex>\n            <span>Bonds</span>\n            <span>{formatPercent(overallBonds / overallTotal)}</span>\n          </Flex>\n          <Flex>\n            <span>Cash</span>\n            <span>{formatPercent(overallCash / overallTotal)}</span>\n          </Flex>\n          {accounts.map(account => (\n            <Account\n              key={account.number}\n              account={account}\n              balance={balances[account.number]}\n              positions={positions[account.number]}\n            />\n          ))}\n        </Fragment>\n      ) : (\n        <a\n          href={`https://login.questrade.com/oauth2/authorize?client_id=${CLIENT_ID}&response_type=token&redirect_uri=${REDIRECT_URI}`}\n        >\n          Authorize\n        </a>\n      )}\n    </Container>\n  );\n};\n\nexport default App;\n","const ACCESS_TOKEN_STORAGE_KEY = \"questrade_access_token\";\n\nexport const getAuthorizationToken = () => {\n  // check for hash route\n  if (window.location.hash[1] === \"/\") {\n    return localStorage.getItem(ACCESS_TOKEN_STORAGE_KEY);\n  }\n\n  const search = window.location.hash\n    .substring(1)\n    .replace(/&/g, '\",\"')\n    .replace(/=/g, '\":\"');\n\n  if (!search) {\n    return localStorage.getItem(ACCESS_TOKEN_STORAGE_KEY);\n  }\n\n  const hashObject = JSON.parse('{\"' + search + '\"}', (key, value) =>\n    key === \"\" ? value : decodeURIComponent(value)\n  );\n\n  localStorage.setItem(ACCESS_TOKEN_STORAGE_KEY, hashObject.access_token);\n  // window.location.hash = \"\";\n\n  return {\n    accessToken: hashObject.access_token,\n    apiServer: hashObject.api_server\n  };\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}